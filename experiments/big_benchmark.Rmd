---
title: "`r testmethod`"
subtitle: "Benchmarking computational efficiency of microbiome data containers"
author: "Giulio Benedetti and Leo Lahti"
date: "`r Sys.Date()`"
---

```{r, echo = FALSE}
df <- big_df %>% 
  select(Features, Samples, Rank, ObjectType, Time)  %>% 
  pivot_wider(names_from = c(ObjectType), values_from = Time) %>% 
  mutate(Ratio = tse / pseq)
```

```{r, echo = FALSE}
p <- ggplot(df, aes(x = Samples, y = Ratio, group = Rank, color = Features)) + 
    geom_point() + 
    geom_line() +
    labs(title = "Relative difference in execution times",
         x = "Samples (N)",
         y = "Relative time (TreeSE / phyloseq)",
         color = "Features (N)",
         caption = "Execution time ratio by samples (TreeSE/phyloseq)") +
    scale_x_log10() +
    geom_hline(yintercept = 1, linetype = 2) 

ggsave(paste0("../reports/figs/big_", testmethod, "_ratio.png"))
```

![](figs/big_"testmethod"_abs_by_time.png)